apiVersion: v1
kind: ConfigMap
metadata:
  creationTimestamp: null
  name: ske-operator
  namespace: kratix-platform-system
data:
  config: |
    releaseStorage:
      path: {{ .Values.releaseStorage.path }}
      git:
        {{- with .Values.releaseStorage.git }}
        secretName: {{ .secretName }}
        repo: {{ .repo }}
        branch: {{ .branch }}
        {{- end }}
      bucket:
        {{- with .Values.releaseStorage.bucket }}
        name: {{ .name }}
        endpoint: {{ .endpoint }}
        region: {{ .rergion }}
        secretName: {{ .secretName }}
        {{- end }}
    imageRegistry:
    {{- with .Values.imageRegistry }}
      host: {{ .host }}
      pullSecret: {{ .imagePullSecret | default "syntasso-registry" }}
      platformImage: {{ .skePlatformImage.name }}
      pipelineImage: {{ .skePlatformPipelineAdapterImage.name }}
    {{- end }}
